async function e({endpoint:e,fetchOptions:n,query:t,variables:r}){const a={query:t,variables:r},{method:o="POST",headers:s={}}=n,i="GET"===o,c=i?function(e,n){const t=new URL(e);for(const e in n)r=n[e],0!==Object.keys(r).length&&t.searchParams.append(e,n[e]);var r;return t.toString()}(e,a):e;try{const e=await fetch(c,{method:o,headers:{"Content-Type":"application/"+(i?"x-www-form-urlencoded":"json"),...s},body:i?null:JSON.stringify(a)}),{data:n,errors:t}=await e.json(),r={data:n};return t&&(r.errors=t),r}catch(e){return{errors:[e]}}}async function n(n,t,r={},a={}){return await e({endpoint:n,query:t,variables:r,fetchOptions:a})}function t({endpoint:n,method:t,headers:r}){return{send:async(a,o={})=>await e({endpoint:n,query:a,variables:o,fetchOptions:{method:t,headers:r}})}}export{t as QuestClient,n as quest};
