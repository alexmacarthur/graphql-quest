!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Quest={})}(this,(function(e){"use strict";async function t({endpoint:e,fetchOptions:t,query:n,variables:o}){const r={query:n,variables:o},{method:s="POST",headers:a={}}=t,i="GET"===s,d=i?function(e,t){const n=new URL(e);for(const e in t)o=t[e],0!==Object.keys(o).length&&n.searchParams.append(e,t[e]);var o;return n.toString()}(e,r):e;try{const e=await fetch(d,{method:s,headers:{"Content-Type":"application/"+(i?"x-www-form-urlencoded":"json"),...a},body:i?null:JSON.stringify(r)}),{data:t,errors:n}=await e.json(),o={data:t};return n&&(o.errors=n),o}catch(e){return{errors:[e]}}}e.QuestClient=function(e){const{endpoint:n,method:o,headers:r}=e;return{send:async(e,s={})=>await t({endpoint:n,query:e,variables:s,fetchOptions:{method:o,headers:r}})}},e.quest=async function(e,n,o={},r={}){return await t({endpoint:e,query:n,variables:o,fetchOptions:r})},Object.defineProperty(e,"__esModule",{value:!0})}));
