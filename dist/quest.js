!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Quest={})}(this,(function(e){"use strict";async function t({endpoint:e,fetchOptions:t,query:n,variables:o}){const r={query:n,variables:JSON.stringify(o)},{method:s="POST",headers:i={}}=t,a="get"===s.toLowerCase(),d=a?function(e,t){const n=new URL(e);for(const e in t)n.searchParams.append(e,t[e]);return n.toString()}(e,r):e;try{const e=await fetch(d,{method:s.toUpperCase(),headers:{"Content-Type":"application/"+(a?"x-www-form-urlencoded":"json"),...i},body:a?null:JSON.stringify(r)}),{data:t,errors:n}=await e.json(),o={data:t};return n&&(o.errors=n),o}catch(e){return{errors:[e]}}}e.QuestClient=function({endpoint:e,method:n,headers:o}){return{send:async(r,s={})=>await t({endpoint:e,query:r,variables:s,fetchOptions:{method:n,headers:o}})}},e.quest=async function(e,n,o={},r={}){return await t({endpoint:e,query:n,variables:o,fetchOptions:r})},Object.defineProperty(e,"__esModule",{value:!0})}));
